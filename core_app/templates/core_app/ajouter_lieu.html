{% extends 'core_app/base.html' %}

{% block title %}Ajouter un Lieu{% endblock %}

{% block content %}
  <h2 class="mb-4">Ajouter un nouveau lieu</h2>

  <form method="post" enctype="multipart/form-data" class="needs-validation" novalidate>
    {% csrf_token %}
    {{ form.as_p }}

    <button type="submit" class="btn btn-success">Ajouter</button>
    <a href="{% url 'liste_lieu' %}" class="btn btn-secondary ms-2">Retour Ã  la liste</a>
  </form>
  
  <script>
  // Bootstrap validation simple
  (() => {
    'use strict'
    const forms = document.querySelectorAll('.needs-validation')
    Array.from(forms).forEach(form => {
      form.addEventListener('submit', event => {
        if (!form.checkValidity()) {
          event.preventDefault()
          event.stopPropagation()
        }
        form.classList.add('was-validated')
      }, false)
    })
  })()
  </script>
{% endblock %}
